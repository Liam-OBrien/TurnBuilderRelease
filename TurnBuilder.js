// Generated by Haxe 4.0.5
(function ($global) { "use strict";
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var Engine = function(display) {
	var f = 0;
	while(true) break;
	while(true) break;
	this.angle = f;
	this.display = display;
	this.root = new displayObject_RootDisplayObject();
	this.camera = new displayObject_Camera(16,9,this.root);
	new displayObject_Player(this.root).set_position(geom__$Vector3D_Vector3D_$Impl_$._new(0,0,10));
	new displayObject_Player(this.root).set_position(geom__$Vector3D_Vector3D_$Impl_$._new(1.5,0,-5));
	new displayObject_Player(this.root).set_position(geom__$Vector3D_Vector3D_$Impl_$._new(-1.5,0,-5));
	new displayObject_Player(this.root).set_position(geom__$Vector3D_Vector3D_$Impl_$._new(-5,0,0));
	new displayObject_Player(this.root).set_position(geom__$Vector3D_Vector3D_$Impl_$._new(5,0,0));
	this.previousTime = Date.now() / 1000;
	this.ticker = new haxe_Timer(17);
	this.ticker.run = $bind(this,this.tick);
};
Engine.__name__ = true;
Engine.prototype = {
	tick: function() {
		var currentTime = Date.now() / 1000;
		var delta = currentTime - this.previousTime;
		this.previousTime = currentTime;
		this.root.update(delta);
		var f = js_Boot.__cast(this.angle , Float) + 0.01;
		while(f >= 6.2831853071795862) f -= 6.2831853071795862;
		while(f < 0) f += 6.2831853071795862;
		this.angle = f;
		var _g_head = this.root.children.h;
		while(_g_head != null) {
			var val = _g_head.item;
			_g_head = _g_head.next;
			if(val != this.camera) {
				val.set_rotation(geom__$Quaternion_Quaternion_$Impl_$._new(geom__$Vector3D_Vector3D_$Impl_$._new(1,0,0),this.angle));
			}
		}
		this.camera.set_position(geom__$Vector3D_Vector3D_$Impl_$.addVector(this.camera.position,geom__$Vector3D_Vector3D_$Impl_$._new(0,0,0.01)));
		this.display.beginRender(this.camera.get_worldToViewMatrix());
		this.root.render(this.display);
	}
	,__class__: Engine
};
var Main = function() { };
Main.__name__ = true;
Main.main = function() {
	var display = new platform_display_Display();
	new Engine(display);
	var a = 3.1415926535897931;
	var f = 8;
	while(f >= 6.2831853071795862) f -= 6.2831853071795862;
	while(f < 0) f += 6.2831853071795862;
	var c = f;
	var d = c;
	console.log("src/Main.hx:19:",a);
	console.log("src/Main.hx:20:",a);
	console.log("src/Main.hx:21:",c);
	console.log("src/Main.hx:22:",d);
	var f1 = js_Boot.__cast(a , Float) + 6;
	while(f1 >= 6.2831853071795862) f1 -= 6.2831853071795862;
	while(f1 < 0) f1 += 6.2831853071795862;
	console.log("src/Main.hx:24:",f1);
	var f2 = 6 + js_Boot.__cast(a , Float);
	while(f2 >= 6.2831853071795862) f2 -= 6.2831853071795862;
	while(f2 < 0) f2 += 6.2831853071795862;
	console.log("src/Main.hx:25:",f2);
	var f3 = js_Boot.__cast(a , Float) - 6;
	while(f3 >= 6.2831853071795862) f3 -= 6.2831853071795862;
	while(f3 < 0) f3 += 6.2831853071795862;
	console.log("src/Main.hx:27:",f3);
	var f4 = 6 - js_Boot.__cast(a , Float);
	while(f4 >= 6.2831853071795862) f4 -= 6.2831853071795862;
	while(f4 < 0) f4 += 6.2831853071795862;
	console.log("src/Main.hx:28:",f4);
	var f5 = js_Boot.__cast(a , Float) + a;
	while(f5 >= 6.2831853071795862) f5 -= 6.2831853071795862;
	while(f5 < 0) f5 += 6.2831853071795862;
	console.log("src/Main.hx:31:",f5);
	var f6 = js_Boot.__cast(a , Float) + a;
	while(f6 >= 6.2831853071795862) f6 -= 6.2831853071795862;
	while(f6 < 0) f6 += 6.2831853071795862;
	console.log("src/Main.hx:32:",f6);
	var f7 = js_Boot.__cast(a , Float) - a;
	while(f7 >= 6.2831853071795862) f7 -= 6.2831853071795862;
	while(f7 < 0) f7 += 6.2831853071795862;
	console.log("src/Main.hx:34:",f7);
	var f8 = js_Boot.__cast(a , Float) - a;
	while(f8 >= 6.2831853071795862) f8 -= 6.2831853071795862;
	while(f8 < 0) f8 += 6.2831853071795862;
	console.log("src/Main.hx:35:",f8);
};
Math.__name__ = true;
var Std = function() { };
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
var displayObject_DisplayObject = function(parent) {
	this.scale = geom__$Vector3D_Vector3D_$Impl_$._new(1,1,1);
	var tmp = geom__$Vector3D_Vector3D_$Impl_$._new(1,0,0);
	var f = 0;
	while(true) break;
	while(true) break;
	this.rotation = geom__$Quaternion_Quaternion_$Impl_$._new(tmp,f);
	this.position = geom__$Vector3D_Vector3D_$Impl_$._new(0,0,0);
	this.children = new haxe_ds_List();
	if(parent != null) {
		parent.addChild(this);
	}
};
displayObject_DisplayObject.__name__ = true;
displayObject_DisplayObject.prototype = {
	set_parent: function(value) {
		this.globalMatrix = null;
		return this.parent = value;
	}
	,get_localMatrix: function() {
		if(this.localMatrix == null) {
			this.localMatrix = geom__$Matrix3D_Matrix3D_$Impl_$.createTransformation(this.position,this.rotation,this.scale);
		}
		return this.localMatrix;
	}
	,get_globalMatrix: function() {
		this.globalMatrix = this.parent == null ? this.get_localMatrix() : geom__$Matrix3D_Matrix3D_$Impl_$.multiplyByMatrix(this.parent.get_globalMatrix(),this.get_localMatrix());
		return this.globalMatrix;
	}
	,set_position: function(value) {
		this.localMatrix = null;
		this.globalMatrix = null;
		return this.position = value;
	}
	,set_rotation: function(value) {
		this.localMatrix = null;
		this.globalMatrix = null;
		return this.rotation = value;
	}
	,set_scale: function(value) {
		this.localMatrix = null;
		this.globalMatrix = null;
		return this.scale = value;
	}
	,addChild: function(child) {
		this.children.push(child);
		child.set_parent(this);
	}
	,update: function(delta) {
		var _g_head = this.children.h;
		while(_g_head != null) {
			var val = _g_head.item;
			_g_head = _g_head.next;
			val.update(delta);
		}
	}
	,updateSelf: function(delta) {
	}
	,render: function(display) {
		this.renderSelf(display);
		var _g_head = this.children.h;
		while(_g_head != null) {
			var val = _g_head.item;
			_g_head = _g_head.next;
			val.render(display);
		}
	}
	,renderSelf: function(display) {
	}
	,__class__: displayObject_DisplayObject
};
var displayObject_Camera = function(screenWidth,screenHeight,parent) {
	this.farZ = 1000;
	this.nearZ = 0.1;
	displayObject_DisplayObject.call(this,parent);
	this.aspectRatio = screenWidth / screenHeight;
};
displayObject_Camera.__name__ = true;
displayObject_Camera.__super__ = displayObject_DisplayObject;
displayObject_Camera.prototype = $extend(displayObject_DisplayObject.prototype,{
	get_perspectiveMatrix: function() {
		if(this.perspectiveMatrix == null) {
			var range = this.nearZ - this.farZ;
			this.perspectiveMatrix = geom__$Matrix3D_Matrix3D_$Impl_$._new(1,0,0,0,0,this.aspectRatio,0,0,0,0,(this.nearZ + this.farZ) / range,-1,0,0,2 * this.nearZ * this.farZ / range,0);
		}
		return this.perspectiveMatrix;
	}
	,get_worldToViewMatrix: function() {
		var testResult = this.get_globalMatrix().getInverseOfTransformationMatrix();
		return geom__$Matrix3D_Matrix3D_$Impl_$.multiplyByMatrix(testResult,this.get_perspectiveMatrix());
	}
	,__class__: displayObject_Camera
});
var displayObject_Player = function(parent) {
	displayObject_DisplayObject.call(this,parent);
};
displayObject_Player.__name__ = true;
displayObject_Player.__super__ = displayObject_DisplayObject;
displayObject_Player.prototype = $extend(displayObject_DisplayObject.prototype,{
	renderSelf: function(display) {
		display.drawRect(this.get_globalMatrix(),16711680);
	}
	,__class__: displayObject_Player
});
var displayObject_RootDisplayObject = function() {
	displayObject_DisplayObject.call(this,null);
};
displayObject_RootDisplayObject.__name__ = true;
displayObject_RootDisplayObject.__super__ = displayObject_DisplayObject;
displayObject_RootDisplayObject.prototype = $extend(displayObject_DisplayObject.prototype,{
	renderSelf: function(display) {
	}
	,__class__: displayObject_RootDisplayObject
});
var geom__$Angle_Angle_$Impl_$ = {};
geom__$Angle_Angle_$Impl_$.__name__ = true;
geom__$Angle_Angle_$Impl_$._new = function(f) {
	return f;
};
geom__$Angle_Angle_$Impl_$.__unboundConstruct = function(f) {
	return f;
};
geom__$Angle_Angle_$Impl_$.fromFloat = function(f) {
	var f1 = f;
	while(f1 >= 6.2831853071795862) f1 -= 6.2831853071795862;
	while(f1 < 0) f1 += 6.2831853071795862;
	return f1;
};
geom__$Angle_Angle_$Impl_$.fromAngle = function(a) {
	var this1 = a;
	return this1;
};
geom__$Angle_Angle_$Impl_$.addFloat = function(this1,rhs) {
	var f = js_Boot.__cast(this1 , Float) + rhs;
	while(f >= 6.2831853071795862) f -= 6.2831853071795862;
	while(f < 0) f += 6.2831853071795862;
	return f;
};
geom__$Angle_Angle_$Impl_$.addToFloat = function(lhs,rhs) {
	var f = lhs + js_Boot.__cast(rhs , Float);
	while(f >= 6.2831853071795862) f -= 6.2831853071795862;
	while(f < 0) f += 6.2831853071795862;
	return f;
};
geom__$Angle_Angle_$Impl_$.subtractFloat = function(this1,rhs) {
	var f = js_Boot.__cast(this1 , Float) - rhs;
	while(f >= 6.2831853071795862) f -= 6.2831853071795862;
	while(f < 0) f += 6.2831853071795862;
	return f;
};
geom__$Angle_Angle_$Impl_$.subtractFromFloat = function(lhs,rhs) {
	var f = lhs - js_Boot.__cast(rhs , Float);
	while(f >= 6.2831853071795862) f -= 6.2831853071795862;
	while(f < 0) f += 6.2831853071795862;
	return f;
};
geom__$Angle_Angle_$Impl_$.multiplyByFloat = function(this1,rhs) {
	var f = js_Boot.__cast(this1 , Float) * rhs;
	while(f >= 6.2831853071795862) f -= 6.2831853071795862;
	while(f < 0) f += 6.2831853071795862;
	return f;
};
geom__$Angle_Angle_$Impl_$.multiplyFloat = function(lhs,rhs) {
	var f = js_Boot.__cast(rhs , Float) * lhs;
	while(f >= 6.2831853071795862) f -= 6.2831853071795862;
	while(f < 0) f += 6.2831853071795862;
	return f;
};
geom__$Angle_Angle_$Impl_$.divideByFloat = function(this1,rhs) {
	var f = js_Boot.__cast(this1 , Float) / rhs;
	while(f >= 6.2831853071795862) f -= 6.2831853071795862;
	while(f < 0) f += 6.2831853071795862;
	return f;
};
geom__$Angle_Angle_$Impl_$.bound = function(f) {
	var f1 = f;
	while(f1 >= 6.2831853071795862) f1 -= 6.2831853071795862;
	while(f1 < 0) f1 += 6.2831853071795862;
	return f1;
};
geom__$Angle_Angle_$Impl_$.boundTo = function(f,limit) {
	while(f >= limit) f -= limit;
	while(f < 0) f += limit;
	return f;
};
var geom_Matrix3DImpl = function(m0,m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12,m13,m14,m15) {
	var this1 = new Array(16);
	this.data = this1;
	this.get_data()[0] = m0;
	this.get_data()[1] = m1;
	this.get_data()[2] = m2;
	this.get_data()[3] = m3;
	this.get_data()[4] = m4;
	this.get_data()[5] = m5;
	this.get_data()[6] = m6;
	this.get_data()[7] = m7;
	this.get_data()[8] = m8;
	this.get_data()[9] = m9;
	this.get_data()[10] = m10;
	this.get_data()[11] = m11;
	this.get_data()[12] = m12;
	this.get_data()[13] = m13;
	this.get_data()[14] = m14;
	this.get_data()[15] = m15;
};
geom_Matrix3DImpl.__name__ = true;
geom_Matrix3DImpl.prototype = {
	get_data: function() {
		return this.data;
	}
	,getDeterminantOfTransformationMatrix: function() {
		return this.get_data()[0] * (this.get_data()[5] * this.get_data()[10] - this.get_data()[6] * this.get_data()[9]) + this.get_data()[4] * (this.get_data()[9] * this.get_data()[2] - this.get_data()[1] * this.get_data()[10]) + this.get_data()[8] * (this.get_data()[1] * this.get_data()[6] - this.get_data()[5] * this.get_data()[2]);
	}
	,getInverseOfTransformationMatrix: function() {
		var multiplier = 1 / this.getDeterminantOfTransformationMatrix();
		var r0 = this.get_data()[4] * this.get_data()[9] - this.get_data()[5] * this.get_data()[8];
		var r1 = this.get_data()[1] * this.get_data()[8] - this.get_data()[0] * this.get_data()[9];
		var r2 = this.get_data()[0] * this.get_data()[5] - this.get_data()[1] * this.get_data()[4];
		var s0 = this.get_data()[0] * this.get_data()[13] - this.get_data()[1] * this.get_data()[12];
		var s1 = this.get_data()[4] * this.get_data()[13] - this.get_data()[5] * this.get_data()[12];
		var s2 = this.get_data()[8] * this.get_data()[13] - this.get_data()[9] * this.get_data()[12];
		return geom__$Matrix3D_Matrix3D_$Impl_$._new((this.get_data()[5] * this.get_data()[10] - this.get_data()[6] * this.get_data()[9]) * multiplier,(this.get_data()[2] * this.get_data()[9] - this.get_data()[1] * this.get_data()[10]) * multiplier,(this.get_data()[1] * this.get_data()[6] - this.get_data()[2] * this.get_data()[5]) * multiplier,0,(this.get_data()[6] * this.get_data()[8] - this.get_data()[4] * this.get_data()[10]) * multiplier,(this.get_data()[0] * this.get_data()[10] - this.get_data()[2] * this.get_data()[8]) * multiplier,(this.get_data()[2] * this.get_data()[4] - this.get_data()[0] * this.get_data()[6]) * multiplier,0,r0 * multiplier,r1 * multiplier,r2 * multiplier,0,(this.get_data()[10] * s1 - this.get_data()[6] * s2 - this.get_data()[14] * r0) * multiplier,(this.get_data()[2] * s2 - this.get_data()[10] * s0 - this.get_data()[14] * r1) * multiplier,(this.get_data()[6] * s0 - this.get_data()[2] * s1 - this.get_data()[14] * r2) * multiplier,multiplier);
	}
	,__class__: geom_Matrix3DImpl
};
var geom__$Matrix3D_Matrix3D_$Impl_$ = {};
geom__$Matrix3D_Matrix3D_$Impl_$.__name__ = true;
geom__$Matrix3D_Matrix3D_$Impl_$._new = function(m0,m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12,m13,m14,m15) {
	return new geom_Matrix3DImpl(m0,m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12,m13,m14,m15);
};
geom__$Matrix3D_Matrix3D_$Impl_$.createTransformation = function(position,rotation,scale) {
	var twoAxisSquared = geom__$Vector3D_Vector3D_$Impl_$.multiplyByFloat(geom__$Vector3D_Vector3D_$Impl_$.multiplyByVector(rotation.axis,rotation.axis),2);
	var twoScalarAxis = geom__$Vector3D_Vector3D_$Impl_$.multiplyByFloat(rotation.axis,rotation.scalar * 2);
	var twoXY = 2 * rotation.axis.x * rotation.axis.y;
	var twoXZ = 2 * rotation.axis.x * rotation.axis.z;
	var twoYZ = 2 * rotation.axis.y * rotation.axis.z;
	return geom__$Matrix3D_Matrix3D_$Impl_$._new((1 - twoAxisSquared.y - twoAxisSquared.z) * scale.x,twoXY + twoScalarAxis.z,twoXZ - twoScalarAxis.y,0,twoXY - twoScalarAxis.z,(1 - twoAxisSquared.x - twoAxisSquared.z) * scale.y,twoYZ + twoScalarAxis.x,0,twoXZ + twoScalarAxis.y,twoYZ - twoScalarAxis.x,(1 - twoAxisSquared.x - twoAxisSquared.y) * scale.z,0,position.x,position.y,position.z,1);
};
geom__$Matrix3D_Matrix3D_$Impl_$.multiplyByMatrix = function(this1,rhs) {
	return new geom_Matrix3DImpl(this1.get_data()[0] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,0) + this1.get_data()[1] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,4) + this1.get_data()[2] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,8) + this1.get_data()[3] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,12),this1.get_data()[0] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,1) + this1.get_data()[1] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,5) + this1.get_data()[2] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,9) + this1.get_data()[3] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,13),this1.get_data()[0] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,2) + this1.get_data()[1] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,6) + this1.get_data()[2] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,10) + this1.get_data()[3] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,14),this1.get_data()[0] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,3) + this1.get_data()[1] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,7) + this1.get_data()[2] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,11) + this1.get_data()[3] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,15),this1.get_data()[4] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,0) + this1.get_data()[5] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,4) + this1.get_data()[6] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,8) + this1.get_data()[7] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,12),this1.get_data()[4] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,1) + this1.get_data()[5] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,5) + this1.get_data()[6] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,9) + this1.get_data()[7] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,13),this1.get_data()[4] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,2) + this1.get_data()[5] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,6) + this1.get_data()[6] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,10) + this1.get_data()[7] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,14),this1.get_data()[4] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,3) + this1.get_data()[5] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,7) + this1.get_data()[6] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,11) + this1.get_data()[7] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,15),this1.get_data()[8] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,0) + this1.get_data()[9] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,4) + this1.get_data()[10] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,8) + this1.get_data()[11] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,12),this1.get_data()[8] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,1) + this1.get_data()[9] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,5) + this1.get_data()[10] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,9) + this1.get_data()[11] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,13),this1.get_data()[8] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,2) + this1.get_data()[9] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,6) + this1.get_data()[10] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,10) + this1.get_data()[11] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,14),this1.get_data()[8] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,3) + this1.get_data()[9] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,7) + this1.get_data()[10] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,11) + this1.get_data()[11] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,15),this1.get_data()[12] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,0) + this1.get_data()[13] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,4) + this1.get_data()[14] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,8) + this1.get_data()[15] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,12),this1.get_data()[12] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,1) + this1.get_data()[13] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,5) + this1.get_data()[14] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,9) + this1.get_data()[15] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,13),this1.get_data()[12] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,2) + this1.get_data()[13] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,6) + this1.get_data()[14] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,10) + this1.get_data()[15] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,14),this1.get_data()[12] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,3) + this1.get_data()[13] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,7) + this1.get_data()[14] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,11) + this1.get_data()[15] * geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead(rhs,15));
};
geom__$Matrix3D_Matrix3D_$Impl_$.arrayRead = function(this1,n) {
	return this1.get_data()[n];
};
var geom__$Quaternion_Quaternion_$Impl_$ = {};
geom__$Quaternion_Quaternion_$Impl_$.__name__ = true;
geom__$Quaternion_Quaternion_$Impl_$._new = function(axis,angle) {
	return new geom_QuaternionImpl(axis,angle);
};
var geom_QuaternionImpl = function(axis,angle) {
	var f = js_Boot.__cast(angle , Float) / 2;
	while(f >= 6.2831853071795862) f -= 6.2831853071795862;
	while(f < 0) f += 6.2831853071795862;
	var halfAngle = f;
	this.scalar = Math.cos(halfAngle);
	this.axis = geom__$Vector3D_Vector3D_$Impl_$.multiplyByFloat(axis,Math.sin(halfAngle));
};
geom_QuaternionImpl.__name__ = true;
geom_QuaternionImpl.prototype = {
	__class__: geom_QuaternionImpl
};
var geom__$Vector3D_Vector3D_$Impl_$ = {};
geom__$Vector3D_Vector3D_$Impl_$.__name__ = true;
geom__$Vector3D_Vector3D_$Impl_$._new = function(x,y,z) {
	return new geom_Vector3DImpl(x,y,z);
};
geom__$Vector3D_Vector3D_$Impl_$.addVector = function(this1,rhs) {
	return geom__$Vector3D_Vector3D_$Impl_$._new(this1.x + rhs.x,this1.y + rhs.y,this1.z + rhs.z);
};
geom__$Vector3D_Vector3D_$Impl_$.multiplyByVector = function(this1,rhs) {
	return geom__$Vector3D_Vector3D_$Impl_$._new(this1.x * rhs.x,this1.y * rhs.y,this1.z * rhs.z);
};
geom__$Vector3D_Vector3D_$Impl_$.multiplyByFloat = function(this1,rhs) {
	return geom__$Vector3D_Vector3D_$Impl_$._new(this1.x * rhs,this1.y * rhs,this1.z * rhs);
};
geom__$Vector3D_Vector3D_$Impl_$.multiplyFloat = function(lhs,rhs) {
	return geom__$Vector3D_Vector3D_$Impl_$.multiplyByFloat(rhs,lhs);
};
var geom_Vector3DImpl = function(x,y,z) {
	this.x = x;
	this.y = y;
	this.z = z;
};
geom_Vector3DImpl.__name__ = true;
geom_Vector3DImpl.prototype = {
	__class__: geom_Vector3DImpl
};
var haxe_Timer = function(time_ms) {
	var me = this;
	this.id = setInterval(function() {
		me.run();
	},time_ms);
};
haxe_Timer.__name__ = true;
haxe_Timer.prototype = {
	run: function() {
	}
	,__class__: haxe_Timer
};
var haxe_ds_List = function() {
	this.length = 0;
};
haxe_ds_List.__name__ = true;
haxe_ds_List.prototype = {
	push: function(item) {
		var x = new haxe_ds__$List_ListNode(item,this.h);
		this.h = x;
		if(this.q == null) {
			this.q = x;
		}
		this.length++;
	}
	,__class__: haxe_ds_List
};
var haxe_ds__$List_ListNode = function(item,next) {
	this.item = item;
	this.next = next;
};
haxe_ds__$List_ListNode.__name__ = true;
haxe_ds__$List_ListNode.prototype = {
	__class__: haxe_ds__$List_ListNode
};
var haxe_io_Bytes = function() { };
haxe_io_Bytes.__name__ = true;
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
js__$Boot_HaxeError.__name__ = true;
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.getClass = function(o) {
	if(o == null) {
		return null;
	} else if(((o) instanceof Array)) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(((o) instanceof Array)) {
			var str = "[";
			s += "\t";
			var _g3 = 0;
			var _g11 = o.length;
			while(_g3 < _g11) {
				var i = _g3++;
				str += (i > 0 ? "," : "") + js_Boot.__string_rec(o[i],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e1 ) {
			var e2 = ((e1) instanceof js__$Boot_HaxeError) ? e1.val : e1;
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var str1 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		var k = null;
		for( k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str1.length != 2) {
			str1 += ", \n";
		}
		str1 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str1 += "\n" + s + "}";
		return str1;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	if(Object.prototype.hasOwnProperty.call(cc,"__interfaces__")) {
		var intf = cc.__interfaces__;
		var _g = 0;
		var _g1 = intf.length;
		while(_g < _g1) {
			var i = _g++;
			var i1 = intf[i];
			if(i1 == cl || js_Boot.__interfLoop(i1,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		return ((o) instanceof Array);
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return o != null;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return ((o | 0) === o);
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(js_Boot.__downcastCheck(o,cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(((o) instanceof cl)) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		return false;
	}
};
js_Boot.__downcastCheck = function(o,cl) {
	if(!((o) instanceof cl)) {
		if(cl.__isInterface__) {
			return js_Boot.__interfLoop(js_Boot.getClass(o),cl);
		} else {
			return false;
		}
	} else {
		return true;
	}
};
js_Boot.__cast = function(o,t) {
	if(o == null || js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw new js__$Boot_HaxeError("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var platform_display_IDisplay = function() { };
platform_display_IDisplay.__name__ = true;
platform_display_IDisplay.__isInterface__ = true;
platform_display_IDisplay.prototype = {
	__class__: platform_display_IDisplay
};
var platform_display_Display = function() {
	this.canvas = window.document.createElement("canvas");
	this.canvas.width = 1600;
	this.canvas.height = 900;
	this.canvas.style.setProperty("position","absolute");
	this.canvas.style.setProperty("left","50%");
	this.canvas.style.setProperty("margin-left",-800 + "px");
	this.canvas.style.setProperty("top","50%");
	this.canvas.style.setProperty("margin-top",-450 + "px");
	this.canvas.style.setProperty("border","2px solid blue");
	window.document.body.appendChild(this.canvas);
	this.context = this.canvas.getContext("webgl2",{ alpha : true, antialias : true, preserveDrawingBuffer : false, depth : true});
	if(this.context == null) {
		window.alert("Browser does not support WebGL2.");
		throw new js__$Boot_HaxeError("Browser does not support WebGL2.");
	}
	this.context.clearColor(1,1,1,1);
	this.context.enable(2929);
	this.rectangleRenderProgram = new platform_display_js_RectangleRenderProgram(this.context);
};
platform_display_Display.__name__ = true;
platform_display_Display.__interfaces__ = [platform_display_IDisplay];
platform_display_Display.prototype = {
	beginRender: function(worldToCamera) {
		this.worldToCamera = worldToCamera;
	}
	,endRender: function() {
	}
	,drawRect: function(localToWorld,fill) {
		this.rectangleRenderProgram.draw(geom__$Matrix3D_Matrix3D_$Impl_$.multiplyByMatrix(localToWorld,this.worldToCamera));
	}
	,__class__: platform_display_Display
};
var platform_display_js_RenderProgram = function(context) {
	this.context = context;
	this.vertexShader = this.buildShader(this.get_vertexShaderSource(),35633);
	this.fragmentShader = this.buildShader(this.get_fragmentShaderSource(),35632);
	this.program = context.createProgram();
	context.attachShader(this.program,this.vertexShader);
	context.attachShader(this.program,this.fragmentShader);
	context.linkProgram(this.program);
};
platform_display_js_RenderProgram.__name__ = true;
platform_display_js_RenderProgram.prototype = {
	get_vertexShaderSource: function() {
		return null;
	}
	,get_fragmentShaderSource: function() {
		return null;
	}
	,buildShader: function(source,type) {
		var shader = this.context.createShader(type);
		this.context.shaderSource(shader,source);
		this.context.compileShader(shader);
		return shader;
	}
	,__class__: platform_display_js_RenderProgram
};
var platform_display_js_RectangleRenderProgram = function(context) {
	platform_display_js_RenderProgram.call(this,context);
	this.vertexArray = context.createVertexArray();
	context.bindVertexArray(this.vertexArray);
	context.useProgram(this.program);
	this.positionLocation = context.getAttribLocation(this.program,"position");
	this.modelToCameraLocation = context.getUniformLocation(this.program,"modelToCamera");
	var rectangle = new Float32Array([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1,1,1,-1,1,1,1,1,-1,1,1,1,-1,1,-1,1,1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,1,1,1,-1,-1,1,-1,-1,1,1,1,1,-1,-1,1,1,1,1,1,1,-1,1,-1,-1,1,-1,-1,-1,1,-1,1,-1,-1,-1,1,-1,-1]);
	context.bindBuffer(34962,context.createBuffer());
	context.bufferData(34962,rectangle,35044);
	context.vertexAttribPointer(this.positionLocation,3,5126,false,0,0);
	context.enableVertexAttribArray(this.positionLocation);
};
platform_display_js_RectangleRenderProgram.__name__ = true;
platform_display_js_RectangleRenderProgram.__super__ = platform_display_js_RenderProgram;
platform_display_js_RectangleRenderProgram.prototype = $extend(platform_display_js_RenderProgram.prototype,{
	get_vertexShaderSource: function() {
		return "#version 300 es\r\n\r\n        in vec3 position;\r\n\r\n        uniform mat4 modelToCamera;\r\n\r\n        out vec3 localPoint;\r\n        \r\n        void main()\r\n        {\r\n            gl_Position = modelToCamera * vec4(position, 1);\r\n            localPoint = position;\r\n        }\r\n        ";
	}
	,get_fragmentShaderSource: function() {
		return "#version 300 es\r\n        precision mediump float;\r\n\r\n        in vec3 localPoint;\r\n\r\n        out vec4 outColor;\r\n        \r\n        void main()\r\n        {\r\n            outColor = vec4(localPoint, 1);\r\n\r\n        }\r\n        ";
	}
	,draw: function(modelToCamera) {
		this.context.bindVertexArray(this.vertexArray);
		this.context.uniformMatrix4fv(this.modelToCameraLocation,false,new Float32Array(modelToCamera.get_data().slice(0)));
		this.context.drawArrays(4,0,36);
	}
	,__class__: platform_display_js_RectangleRenderProgram
});
var $_;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $global.$haxeUID++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
$global.$haxeUID |= 0;
String.prototype.__class__ = String;
String.__name__ = true;
Array.__name__ = true;
var Int = { };
var Dynamic = { };
var Float = Number;
var Bool = Boolean;
var Class = { };
var Enum = { };
Object.defineProperty(js__$Boot_HaxeError.prototype,"message",{ get : function() {
	return String(this.val);
}});
js_Boot.__toStr = ({ }).toString;
Engine.TICKRATE = 17;
geom_Matrix3DImpl.WIDTH = 4;
geom_Matrix3DImpl.HEIGHT = 4;
geom__$Matrix3D_Matrix3D_$Impl_$.identity = new geom_Matrix3DImpl(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);
platform_display_Display.WIDTH = 1600;
platform_display_Display.HEIGHT = 900;
Main.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);

//# sourceMappingURL=TurnBuilder.js.map